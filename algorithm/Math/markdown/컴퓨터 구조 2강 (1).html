<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>컴퓨터 구조 2강 (1)</title>
</head>
<body><h1 id='ch2-instruction-language-of-the-computer'>CH2. Instruction: Language of the computer</h1>
<p> </p>
<h2 id='instruction-set'>Instruction Set</h2>
<ul>
<li><p>Instruction: 컴퓨터 언어의 한 단어 </p>
</li>
<li><p>Instruction set: 주어진 아키텍처에서 이해하는 명령의 어휘</p>
<ul>
<li>컴퓨터 명령의 레퍼토리</li>
<li>많은 측면에서 공통점이 있지만 컴퓨터마다 명령어 세트가 다릅니다.</li>

</ul>
</li>

</ul>
<p>&nbsp;</p>
<h4 id='mips-instruction-set'>MIPS Instruction Set</h4>
<ul>
<li><p>책 전체에서 예제로 사용</p>
</li>
<li><p>임베디드 코어 시장의 큰 점유율</p>
<ul>
<li>소비자 가전, 네트워크/저장 장비, 카메라, 프린터 등의 애플리케이션</li>

</ul>
</li>
<li><p>다른 유명한 명령어 세트: ARMv7, intel x86, ARMv8</p>
</li>

</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2 id='hardware-operation'><strong>Hardware Operation</strong></h2>
<h3 id='규칙-1-간단하게-하기-위해선-규칙적인-것이-좋다'>규칙 1. 간단하게 하기 위해선 규칙적인 것이 좋다.</h3>
<ul>
<li>Arithmetic operands은 항상 3개이다.</li>
<li>한 줄에 하나의 명령어만 사용할 수 있다.</li>

</ul>
<p>&nbsp;</p>
<p><strong>1. 더하기(add)</strong>: <code>add a, b, c</code>= <code>a = b + c</code></p>
<p><strong>2. 빼기(sub)</strong>: <code>sub a, b, c</code>= <code>a = b - c</code></p>
<p>&nbsp;</p>
<p><strong>C code</strong></p>
<pre><code class='language-c' lang='c'>// 1
f = (g+h) - (i+j);
  
  
// 2
a = b+c+d;
</code></pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>MIPS code (assembly)</strong></p>
<pre><code class='language-assembly' lang='assembly'># 1
add t0, g, h     # t0 = g+h
add t1, i, j     # t1 = i+j
sub f, t0, t1     # f = t-u


# 2
add t, b, c     # t = b+c
add a, t, d     # a = t+d = b+c+d
</code></pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3 id='규칙-2-작은-것이-더-빠르다'>규칙 2. 작은 것이 더 빠르다.</h3>
<h4 id='2-1-register-operand'><strong>2-1. Register Operand</strong></h4>
<p>레지스터: CPU안에 거주하며 메인 메모리(RAM)보다 빠르고 작다.</p>
<p>&nbsp;</p>
<p><strong>cf&gt; 메모리 계층구조</strong></p>
<p><img src="https://github.com/doooooooong/studyBoard/blob/master/CSstudy/CA/images/image-20210818144318929.png?raw=true" alt="image-20210818144318929" style="zoom:50%;" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<ul>
<li><p>산술 명령어는 레지스터 피연산자를 사용합니다.</p>
</li>
<li><p>MIPS에는 32비트 레지스터 파일이 32개 있습니다.</p>
<ul>
<li>자주 사용하는 데이터에 사용</li>
<li>0부터 31까지의 숫자</li>
<li>32비트 데이터는 word라고 부릅니다.</li>

</ul>
</li>
<li><p>레지스터 이름</p>
<ul>
<li>임시 값의 경우: $t0, $t1, ..., $t9</li>
<li>저장된 변수의 경우: $s0, $s1, ..., $s7</li>

</ul>
</li>

</ul>
<figure><table>
<thead>
<tr><th>Name</th><th>Number</th><th>Use</th></tr></thead>
<tbody><tr><td>$zero</td><td>0</td><td>상수 값 0을 표현</td></tr><tr><td>$at</td><td>1</td><td>임시 어셈블러</td></tr><tr><td>$v0, $v1</td><td>2,3</td><td>함수값과 계산식 결과값</td></tr><tr><td>$a0 ~ $a3</td><td>4~7</td><td>Arguments</td></tr><tr><td>$t0 ~ $t7</td><td>8~15</td><td>임시 변수</td></tr><tr><td>$s0 ~ $s7</td><td>16~23</td><td>저장된 변수</td></tr><tr><td>$t8, $t9</td><td>24,25</td><td>임시 변수</td></tr><tr><td>$k0, $k1</td><td>26,27</td><td>OS 커널을 위해 예약된 레지스터</td></tr><tr><td>$gp</td><td>28</td><td>글로벌 포인터</td></tr><tr><td>$sp</td><td>29</td><td>스택 포인터</td></tr><tr><td>$fp</td><td>30</td><td>프레임 포인터</td></tr><tr><td>$ra</td><td>31</td><td>리턴 주소</td></tr></tbody>
</table></figure>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Ex) f = (g + h) – (i + j) 에서 컴파일러가 변수 f, g, h, ,i, j를 레지스터 $s0, $s1, $s2, $s3, $s4에 각각 할당했다고 하자. 컴파일된 MIPS 코드를 보여라.</p>
<p>&nbsp;</p>
<p><strong>C code</strong></p>
<pre><code class='language-c' lang='c'>// f =$s0, g=$s1, h=$s2, i=$s3, j=$s4
f = (g+h) - (i+j);
</code></pre>
<p> </p>
<p><strong>MIPS code (assembly)</strong></p>
<pre><code class='language-assembly' lang='assembly'>add $t0, $s1, $s2
add $t1, $s3, $s4
sub $s0, $t0, $t1
</code></pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p> </p>
<h4 id='2-2-memory-operand'><strong>2-2. Memory Operand</strong></h4>
<p>메인 메모리: 복합 데이터(배열, 구조체, 동적 데이터)에 사용되는 메모리</p>
<ul>
<li>복합 데이터의 산술 연산 과정은 <strong>메인 메모리에서 레지스터로 값을 로드</strong>하고 <strong>레지스터의 결과를 메인 메모리에 저장</strong>해야한다.</li>
<li>메모리 주소는 바이트 단위로 표기됩니다. </li>

</ul>
<pre><code>8bit = 1byte
1024byte = 1kb
1024kb = 1mb
1024mb = 1gb
1024gb = 1tb
</code></pre>
<p>&nbsp;</p>
<ul>
<li><p>MIPS는 빅 엔디안 방식을 사용합니다.</p>
<ul>
<li>빅 엔디안: MSB(most significant byte)를 가장 왼쪽 바이트에 위치시키는 표기법.</li>
<li>리틀 엔디안(Little Endian):  LSB(least significant byte)를 가장 왼쪽 바이트에 위치시키는 표기법.</li>

</ul>
</li>

</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>MSB, LSB</strong></p>
<ul>
<li><p>MSB: most significant bit (가장 왼쪽 비트)</p>
<p><img src="https://github.com/doooooooong/studyBoard/blob/master/CSstudy/CA/images/clip_image011.png?raw=true" referrerpolicy="no-referrer" alt="img"></p>
</li>
<li><p>LSB: least significant bit (가장 오른쪽 비트)</p>
</li>

</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>Big endian, Little endian</strong></p>
<p>컴퓨터가 어떤 바이트 주소를 워드 주소로 사용하는지에 따라 나뉜다. </p>
<ul>
<li>Big endian: 제일 왼쪽 최상위 byte주소를 word (add, lw, sub 등등) 주소로 쓰는 경우</li>
<li>Little endian: 제일 오른쪽 최하위 byte 주소를 word 주소로 쓰는 경우</li>

</ul>
<p>우리가 공부하는 MIPS의 경우에는 Big endian 방식을 채택한다.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>CPU에 따라서 바이트의 숫자를 메모리 공간에 저장하는 방식에 있어 차이</strong>가 있을 수 있습니다. 이해하기 쉽게 32비트 CPU란 가정하에 간략한 예를 들어보겠습니다.</p>
<pre><code>00000000 00000000 00000000 00000001
</code></pre>
<p>CPU에서는 4바이트의 숫자 1을 이진수 형태로 예시처럼 저장하는가 하면, 다음과 같이 거꾸로 저장하는 CPU도 존재합니다.</p>
<pre><code>00000001 00000000 00000000 00000000
</code></pre>
<p>위에서 확인할 수 있는 차이때문에 데이터를 주고 받는 통신에 있어 데이터의 표현을 어떻게 하느냐는 상당히 중요합니다.</p>
<ul>
<li><strong>상위 바이트의 값(word의 주소값)을 작은 번지수에 저장</strong>하는 방식의 <strong><code>빅 엔디안(big endian)</code></strong></li>
<li><strong>상위 바이트의 값(word의 주소값)을 큰 번지수에 저장</strong>하는 방식의 <strong><code>리틀 엔디안(little endian)</code></strong></li>

</ul>
<p>&nbsp;</p>
<p>자! 그럼 다시한번 예를 들어보겠습니다. 이번에는 4바이트 int형 정수 0x12345678이 있다고 생각해보겠습니다. 먼저 <strong><code>빅 엔디안(big endian)</code></strong>부터 확인해보겠습니다.</p>
<p><img src="https://github.com/doooooooong/studyBoard/blob/master/CSstudy/CA/images/big endian.png?raw=true" referrerpolicy="no-referrer" alt="img"></p>
<p>&nbsp;</p>
<p> <strong><code>리틀 엔디안(little endian)</code></strong>은 이와 반대 입니다.</p>
<p><img src="https://github.com/doooooooong/studyBoard/blob/master/CSstudy/CA/images/little endian.png?raw=true" referrerpolicy="no-referrer" alt="img"></p>
<p>예시에서와 같이 <strong><code>리틀 엔디안(little endian)</code></strong>은 데이터의 상위 바이트가 주소값이 큰 곳에 저장이 됩니다.</p>
<p>&nbsp;</p>
<p>참고로 우리가 주로 사용하는 <strong>인텔 계열은 <code>리틀 엔디안(little endian)</code></strong>방식으로 데이터를 저장하고 있습니다. 이와 같은 CPU가 <strong><code>빅 엔디안(big endian)</code></strong>방식의 CPU와 데이터를 주고 받을때는 서로 데이터를 저장하는 방식에서의 차이가 있어 문제가 발생할 수 있습니다. 따라서 CPU간의 호환 문제를 해결하기 위해 통일된 네트워크 바이트 순서를 정의 했고 이는 <strong><code>빅 엔디안(big endian)</code></strong> 방식입니다.</p>
<p> 즉, 네트워크상으로 데이터를 전송할 때는 데이터의 배열을 <strong><code>빅 엔디안(big endian)</code></strong>으로 변경해서 송신해야 합니다. 수신하는 입장에서도 네트워크에서 전달되는 데이터가 <strong><code>빅 엔디안(big endian)</code></strong>방식임을 인지하고 있어야 올바른 데이터 처리가 가능합니다.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h5 id='연속-주소-예제'>연속 주소 예제</h5>
<p><strong>1. lw</strong>: load word, 메모리에 저장된 값을 레지스터로 복사하는 명령</p>
<p>&nbsp;</p>
<p><strong>C code</strong></p>
<pre><code class='language-c' lang='c'>g = h + A[10];        // g = $s1, h = $s2, A = $s3
</code></pre>
<p>&nbsp;</p>
<p><strong>MIPS code</strong></p>
<pre><code class='language-assembly' lang='assembly'>lw $t0, 10($s3) 		# 10은 배열의 변위(offset), ($s3)은 배열의 base register
add $s1, $s2, $t0  	# g = h + A[10]
</code></pre>
<p>프로그램에서 8비트로 구성된 1byte를 사용하므로 대부분 컴퓨터는 바이트 단위로 주소를 지정한다. Word 주소는 Word를 구성하는 4byte 주소 중 하나를 사용한다. 따라서 연속된 Word (such as a[0], a[1])는 주소가 4byte씩 차이가 난다.</p>
<p>&nbsp;</p>
<p>위의 예제는 <code>lw $t0, 10($s3)</code>에서 <code>lw $t0, 4*10($s3)</code>로 수정되어야 한다.</p>
<pre><code class='language-assembly' lang='assembly'>lw $t0, 4*10($s3) 		# 10은 배열의 변위(offset), 4는 주소값차이, ($s3)은 배열의 base register
add $s1, $s2, $t0  		# g = h + A[10]
</code></pre>
<p>&nbsp;</p>
<p> </p>
<p>&nbsp;</p>
<p><strong>2. sw</strong>: store word, 레지스터에 저장된 값을 메모리로 복사하는 명령</p>
<p><strong>C code</strong></p>
<pre><code class='language-c' lang='c'>A[12] = h + A[10]         // $s1,  A = $s2
</code></pre>
<p>&nbsp;</p>
<p><strong>MIPS code</strong></p>
<pre><code class='language-assembly' lang='assembly'>lw $t0, 40($s2)      	# $t0 = A[10]
add $t0, $s1, $t0    	# $t1 = h + A[10]
sw $t0, 48($s2)     	# A[12] = $t1
</code></pre>
<p>&nbsp;</p>
<p> </p>
<p><strong>Memory VS Register</strong></p>
<ul>
<li><p>레지스터는 메모리보다 액세스 속도가 빠릅니다.</p>
</li>
<li><p>더 많은 명령어 실행을 위해선 메모리 데이터에 대한 작업에는 로드 및 저장이 필요합니다.</p>
</li>
<li><p>속도를 위해 컴파일러는 가능한 레지스터 변수를 사용합니다.</p>
<ul>
<li>덜 자주 사용되는 변수만 메모리에서 가져옵니다.</li>
<li>따라서 레지스터 최적화가 중요합니다</li>

</ul>
</li>

</ul>
<p> </p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3 id='규칙-3-일반적인-경우를-빠르게'>규칙 3. 일반적인 경우를 빠르게</h3>
<ul>
<li>상수를 직접 더하는 것은 <code>lw</code> 명령을 피합니다.</li>

</ul>
<p>&nbsp;</p>
<h4 id='3-1-immediate-operation'><strong>3-1. Immediate operation</strong></h4>
<p>&nbsp;</p>
<p><strong>1. addi</strong>: add immediate, 레지스터에 상수를 더한다. 뺄셈의 경우에는 음수를 더한다. (subi는 없음) </p>
<p>&nbsp;</p>
<p><strong>C code</strong></p>
<pre><code class='language-c' lang='c'>a = a + 4;         // a = $s1
b = a;						 // b = $s2
</code></pre>
<p>&nbsp;</p>
<p><strong>MIPS code</strong></p>
<pre><code class='language-assembly' lang='assembly'>addi $s1, $s1, 4   	# a += 4
add $s2, $s1, $zero	# register 0 ($zero)는 상수 0이다, 변수값을 옮길때 사용
</code></pre>
<p> </p>
<p> </p>
<p>&nbsp;</p>
<p><strong>2진법 양수/음수 표기</strong></p>
<p><strong>Unsigned N-bit number</strong> </p>
<p>$ x_{n-1}*2^{n-1} + x_{n-2}*2^{n-2} + ... + x_{0}*2^{0} $</p>
<ul>
<li>range: 0 ~ $2^n-1 $ (32bits에서 0 ~ $2^32-1$)</li>
<li>Example) $ 0000\ 0000\ 0000\ 0000\ 0000\ 0000\ 0000\ 1101_2 \\ = 0+0+0+0+0+0+0+1*2^3+1*2^2+0*2^1+1*2^0 \\ = 11_{10} $</li>

</ul>
<p>&nbsp;</p>
<p><strong>Signed N-bit number</strong>: 2의 보수법 사용</p>
<p>$  -x_{n-1}*2^{n-1} + x_{n-2}*2^{n-2} + ... + x_{0}*2^{0} $</p>
<div contenteditable="false" spellcheck="false" class="mathjax-block md-end-block md-math-block md-rawblock" id="mathjax-n272" cid="n272" mdtype="math_block" data-math-tag-before="0" data-math-tag-after="0" data-math-labels="[]"><div class="md-rawblock-container md-math-container" tabindex="-1"><mjx-container class="MathJax" jax="SVG" display="true" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="39.495ex" height="2.47ex" role="img" focusable="false" viewBox="0 -883.9 17456.7 1091.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.471ex;"><defs><path id="MJX-3-TEX-N-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path id="MJX-3-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-3-TEX-I-1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path><path id="MJX-3-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-3-TEX-N-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path id="MJX-3-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-3-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-3-TEX-N-2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"></path><path id="MJX-3-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="2212" xlink:href="#MJX-3-TEX-N-2212"></use></g><g data-mml-node="msub" transform="translate(778,0)"><g data-mml-node="mi"><use data-c="1D465" xlink:href="#MJX-3-TEX-I-1D465"></use></g><g data-mml-node="TeXAtom" transform="translate(605,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D45B" xlink:href="#MJX-3-TEX-I-1D45B"></use></g><g data-mml-node="mo" transform="translate(600,0)"><use data-c="2212" xlink:href="#MJX-3-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(1378,0)"><use data-c="31" xlink:href="#MJX-3-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(2983.2,0)"><use data-c="2217" xlink:href="#MJX-3-TEX-N-2217"></use></g><g data-mml-node="msup" transform="translate(3705.4,0)"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-3-TEX-N-32"></use></g><g data-mml-node="TeXAtom" transform="translate(533,413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D45B" xlink:href="#MJX-3-TEX-I-1D45B"></use></g><g data-mml-node="mo" transform="translate(600,0)"><use data-c="2212" xlink:href="#MJX-3-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(1378,0)"><use data-c="31" xlink:href="#MJX-3-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(5838.6,0)"><use data-c="2B" xlink:href="#MJX-3-TEX-N-2B"></use></g><g data-mml-node="msub" transform="translate(6838.8,0)"><g data-mml-node="mi"><use data-c="1D465" xlink:href="#MJX-3-TEX-I-1D465"></use></g><g data-mml-node="TeXAtom" transform="translate(605,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D45B" xlink:href="#MJX-3-TEX-I-1D45B"></use></g><g data-mml-node="mo" transform="translate(600,0)"><use data-c="2212" xlink:href="#MJX-3-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(1378,0)"><use data-c="32" xlink:href="#MJX-3-TEX-N-32"></use></g></g></g><g data-mml-node="mo" transform="translate(9044,0)"><use data-c="2217" xlink:href="#MJX-3-TEX-N-2217"></use></g><g data-mml-node="msup" transform="translate(9766.2,0)"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-3-TEX-N-32"></use></g><g data-mml-node="TeXAtom" transform="translate(533,413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="1D45B" xlink:href="#MJX-3-TEX-I-1D45B"></use></g><g data-mml-node="mo" transform="translate(600,0)"><use data-c="2212" xlink:href="#MJX-3-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(1378,0)"><use data-c="32" xlink:href="#MJX-3-TEX-N-32"></use></g></g></g><g data-mml-node="mo" transform="translate(11677.1,0)"><use data-c="2B" xlink:href="#MJX-3-TEX-N-2B"></use></g><g data-mml-node="mo" transform="translate(12455.1,0)"><use data-c="2E" xlink:href="#MJX-3-TEX-N-2E"></use></g><g data-mml-node="mo" transform="translate(12899.8,0)"><use data-c="2E" xlink:href="#MJX-3-TEX-N-2E"></use></g><g data-mml-node="mo" transform="translate(13344.5,0)"><use data-c="2E" xlink:href="#MJX-3-TEX-N-2E"></use></g><g data-mml-node="mo" transform="translate(13789.1,0)"><use data-c="2B" xlink:href="#MJX-3-TEX-N-2B"></use></g><g data-mml-node="msub" transform="translate(14567.1,0)"><g data-mml-node="mi"><use data-c="1D465" xlink:href="#MJX-3-TEX-I-1D465"></use></g><g data-mml-node="TeXAtom" transform="translate(605,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="30" xlink:href="#MJX-3-TEX-N-30"></use></g></g></g><g data-mml-node="mo" transform="translate(15797.9,0)"><use data-c="2217" xlink:href="#MJX-3-TEX-N-2217"></use></g><g data-mml-node="msup" transform="translate(16520.1,0)"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-3-TEX-N-32"></use></g><g data-mml-node="TeXAtom" transform="translate(533,413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="30" xlink:href="#MJX-3-TEX-N-30"></use></g></g></g></g></g></svg></mjx-container></div></div>
<ul>
<li>range: $-2^{n-1} ~ 2^{n-1}-1 $ (32bits에서 $-2^{31} ~ 2^{31}-1$) </li>
<li>Example) $ 1111\ 1111\ 1111\ 1111\ 1111\ 1111\ 1111\ 1100_2 \\ = -1*2^{31}+1*2^{30}+...+1*2^3+1*2^2+0*2^1+0*2^0 \\ = -4_{10} $</li>

</ul>
<p>&nbsp;</p>
<p>=&gt; MSB가 0이면 양수, 1이면 음수이다.</p>
<p> </p>
<p> </p>
<p><strong>Signed negation</strong> (양수 &lt;-&gt; 음수)</p>
<div contenteditable="false" spellcheck="false" class="mathjax-block md-end-block md-math-block md-rawblock" id="mathjax-n283" cid="n283" mdtype="math_block" data-math-tag-before="0" data-math-tag-after="0" data-math-labels="[]"><div class="md-rawblock-container md-math-container" tabindex="-1"><mjx-container class="MathJax" jax="SVG" display="true" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="26.818ex" height="2.299ex" role="img" focusable="false" viewBox="0 -934 11853.6 1016" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.186ex;"><defs><path id="MJX-4-TEX-I-1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path><path id="MJX-4-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-4-TEX-N-AF" d="M69 544V590H430V544H69Z"></path><path id="MJX-4-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-4-TEX-N-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path id="MJX-4-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-4-TEX-N-21D4" d="M308 524Q318 526 323 526Q340 526 340 514Q340 507 336 499Q326 476 314 454T292 417T274 391T260 374L255 368Q255 367 500 367Q744 367 744 368L739 374Q734 379 726 390T707 416T685 453T663 499Q658 511 658 515Q658 525 680 525Q687 524 690 523T695 519T701 507Q766 359 902 287Q921 276 939 269T961 259T966 250Q966 246 965 244T960 240T949 236T930 228T902 213Q763 137 701 -7Q697 -16 695 -19T690 -23T680 -25Q658 -25 658 -15Q658 -11 663 1Q673 24 685 46T707 83T725 109T739 126L744 132Q744 133 500 133Q255 133 255 132L260 126Q265 121 273 110T292 84T314 47T336 1Q341 -11 341 -15Q341 -25 319 -25Q312 -24 309 -23T304 -19T298 -7Q233 141 97 213Q83 221 70 227T51 235T41 239T35 243T34 250T35 256T40 261T51 265T70 273T97 287Q235 363 299 509Q305 522 308 524ZM792 319L783 327H216Q183 294 120 256L110 250L120 244Q173 212 207 181L216 173H783L792 181Q826 212 879 244L889 250L879 256Q826 288 792 319Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D44B" xlink:href="#MJX-4-TEX-I-1D44B"></use></g><g data-mml-node="mo" transform="translate(1074.2,0)"><use data-c="2B" xlink:href="#MJX-4-TEX-N-2B"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2074.4,0)"><g data-mml-node="mover"><g data-mml-node="mi"><use data-c="1D44B" xlink:href="#MJX-4-TEX-I-1D44B"></use></g><g data-mml-node="mo" transform="translate(515.3,244) translate(-250 0)"><use data-c="AF" xlink:href="#MJX-4-TEX-N-AF"></use></g></g></g><g data-mml-node="mo" transform="translate(3204.2,0)"><use data-c="3D" xlink:href="#MJX-4-TEX-N-3D"></use></g><g data-mml-node="mo" transform="translate(4260,0)"><use data-c="2212" xlink:href="#MJX-4-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(5038,0)"><use data-c="31" xlink:href="#MJX-4-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(5815.8,0)"><use data-c="21D4" xlink:href="#MJX-4-TEX-N-21D4"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(7093.6,0)"><g data-mml-node="mover"><g data-mml-node="mi"><use data-c="1D44B" xlink:href="#MJX-4-TEX-I-1D44B"></use></g><g data-mml-node="mo" transform="translate(515.3,244) translate(-250 0)"><use data-c="AF" xlink:href="#MJX-4-TEX-N-AF"></use></g></g></g><g data-mml-node="mo" transform="translate(8167.8,0)"><use data-c="2B" xlink:href="#MJX-4-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(9168,0)"><use data-c="31" xlink:href="#MJX-4-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(9945.8,0)"><use data-c="3D" xlink:href="#MJX-4-TEX-N-3D"></use></g><g data-mml-node="mi" transform="translate(11001.6,0)"><use data-c="1D44B" xlink:href="#MJX-4-TEX-I-1D44B"></use></g></g></g></svg></mjx-container></div></div>
<ul>
<li>원리: $ X+\bar{X} = -1 \Leftrightarrow \bar{X} + 1 = X $</li>
<li>Example) +2 -&gt; -2</li>

</ul>
<p>i. $ 0000\ 0000\ 0000\ 0000\ 0000\ 0000\ 0000\ 0010_2 $을 각 비트에 대해 반전시킨다.</p>
<p>ii. $ 1111\ 1111\ 1111\ 1111\ 1111\ 1111\ 1111\ 1101_2 $ 에 1을 더한다.</p>
<p>iii. $ 1111\ 1111\ 1111\ 1111\ 1111\ 1111\ 1111\ 1110_2  = -2_{10} $</p>
<p>&nbsp;</p>
<p> </p>
<p><strong>Sign extension</strong></p>
<p>더 큰 바이트로 확장하는 것, 현재 word의 msb의 값으로 새로운 비트를 모두 채운다.</p>
<p>$ 2 = 0000\ 0010\ \rightarrow 0000\ 0000\ 0000\ 0010\ \\ -2 = 1111\ 1110\ \rightarrow 1111\ 1111\ 1111\ 1110 $</p>
<p>&nbsp;</p>
<p> </p>
<p><strong>2. lb</strong>: load byte, 바이트를 부호 있는 수로 간주하고 남은 24비트를 부호확장해서 채운다.</p>
<p><strong>3. lbu</strong>: load byte unsigned, 바이트를 부호 없는 수로 간주하고 채운다.</p>
<p>&nbsp;</p>
<p><strong>C code</strong></p>
<pre><code class='language-c' lang='c'>char a = -5; 	// 8bit signed integer, 1111 1011
int b = a; 		// 32bit signed integer, 1111 1111 1111 1111 1111 1111 [ 1111 1011 ]
							// 메모리에는 &quot;확장&quot;이 일어난다.
							// a = $s1, b = $s2

</code></pre>
<p>&nbsp;</p>
<p><strong>MIPS code</strong></p>
<pre><code class='language-assembly' lang='assembly'>lbu $s2, $s1 # 
add $s2, $s2, $zero
</code></pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
</body>
</html>