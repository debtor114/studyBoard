## **Dart Language Concept**

1. ëª¨ë“  ê²ƒ (ë³€ìˆ˜, í•¨ìˆ˜ ë“±)ì€ Object ì—ì„œ ìƒì† ë°›ìŠµë‹ˆë‹¤.

2. ë³€ìˆ˜ íƒ€ì…ì€ Dynamic í•˜ê²Œ ì„¤ì •í•  ìˆ˜ ìˆì§€ë§Œ, ëª…ì‹œí•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤

   ```dart
   var number = 42;
   ```

3. Callback: í•¨ìˆ˜ ë‚´ì—ì„œë„ í•¨ìˆ˜(Nested function)ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

4. ê°’ì´ í• ë‹¹ë˜ì§€ ì•Šì€ ëª¨ë“  ë³€ìˆ˜ì˜ ì´ˆê¸°ê°’ì€ nullì´ë‹¤.
5. Keyword ex) public, private, protected ê°€ ì—†ê³  ë‚´ë¶€ ì°¸ì¡° í•¨ìˆ˜ëŠ” _(underbar)ë¥¼ ì•ì— ë¶™ì—¬ ì‚¬ìš©í•œë‹¤.

 

## **Variable**

1. ë¬µì‹œì  ë³€ìˆ˜: ë³€ìˆ˜ì˜ referenceì— ë”°ë¼ typeì´ ê²°ì •ë˜ëŠ” ë³€ìˆ˜

   - **var**: í•œ ë²ˆ ê²°ì •ë˜ë©´ ë°”ê¿€ ìˆ˜ ì—†ìŒ

   ```dart
   var name = 'Bob';
   ```

   -  **dynamic**: ê³„ì† ë°”ê¿” ì“¸ ìˆ˜ ìˆìŒ

   ```dart
   dynamic name = 'Bob';
   ```

2. ëª…ì‹œì  ë³€ìˆ˜

   - **int, string**: ì—¬ëŸ¬ë¶„ë“¤ì´ ì˜ ì•„ëŠ” ê·¸ê²ƒ

   ```dart
   String name = 'Bob';
   ```

   

   **cf> ê³ ì • ë³€ìˆ˜**: í•œ ë²ˆ ê°’ì„ ì„¤ì •í•˜ë©´ ê°’ì´ ë³€ê²½ë˜ì§€ ì•ŠëŠ” ë³€ìˆ˜

   - **final**: Runtimeì—ì„œ ìƒìˆ˜ë¥¼ ì •ì˜í•¨

   - **const**: Compile Timeì—ì„œ ìƒìˆ˜ë¥¼ ì •ì˜í•¨ => ëŸ°íƒ€ì„ì—ì„œ ì •ì˜ë˜ëŠ” ê°’ì„ ì„¤ì •í•  ìˆ˜ ì—†ë‹¤.

   ```dart
   const DateTime now = DateTime.now() // compile error
   ```

   `DateTime.now()`ê°™ì€ ê²½ìš° ëŸ°íƒ€ì„ì—ì„œ í˜¸ì¶œ ë  ë•Œë§ˆë‹¤ ê²°ê³¼ ê°’ì´ ë‹¤ë¥¸ë° ì´ëŸ¬í•œ ê°’ì€ `const`ë¡œ ì„¤ì •í•  ìˆ˜ ì—†ë‹¤.

   

   ê·¸ë ‡ë‹¤ê³  ëª¨ë“  instantiationì—ì„œ `const`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.

   `const Color(int value)` ê°™ì´ ìƒì„±ìê°€ `const`ë¡œ ì„ ì–¸ë˜ì–´ ìˆìœ¼ë©´ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.

   ```dart
   const color = Color(0xFF42A5F5)
   ```

   

   ë‹¤ìŒ ì˜ˆì‹œëŠ” `final`ê³¼ `const`ì˜ ì°¨ì´ì ì„ ê·¹ëª…í•˜ê²Œ ë³´ì—¬ì£¼ëŠ” ì˜ˆì‹œì´ë‹¤.

   ```dart
   final List<String> languages = [];
   const List<String> companies = [];
   
   // no error
   languages.add('dart');
   
   // compile error
   companies.add('Google');
   languages = ['Java'];
   ```

   `final`ê³¼ `const`ëŠ” ê°’ì„ ê³ ì •í•˜ê¸° ë•Œë¬¸ì— ë‘˜ ë‹¤ ê°’ì„ ìƒˆë¡œ í• ë‹¹í•˜ëŠ” ë™ì‘ì„ ë¶ˆê°€ëŠ¥í•˜ì§€ë§Œ, 

   `final`ì˜ ê²½ìš°ì—ëŠ” runtimeì—ì„œ ë°°ì—´ì´ ì •ì˜ë˜ê¸° ë•Œë¬¸ì— ê°’ì˜ ì¶”ê°€ì™€ ì‚­ì œì—ì„œëŠ” ì œí•œì„ ë°›ì§€ ì•ŠëŠ”ë‹¤.



const keywordëŠ” ìƒìˆ˜ ë³€ìˆ˜ ì„ ì–¸ ë§Œì„ ìœ„í•œ ê²ƒì´ ì•„ë‹ˆê³  ìƒì„±ì ì„ ì–¸, ìƒìˆ˜ê°’ì„ ë§Œë“œëŠ”ë° ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤. 

```dart
var foo = const [];
final bar = const [];
const baz = []; // Equivalent to 'const []'
```

 





## **Built-in types**

##### numbers (= `num`)

ë¦¬í„°ëŸ´ ë„˜ë²„ëŠ” ì»´íŒŒì¼ íƒ€ì„ ìƒìˆ˜ì´ê¸° ë•Œë¬¸ì— ì‚°ìˆ  ì—°ì‚°, í”¼ì—°ì‚°ìë„ ì»´íŒŒì¼ íƒ€ì„ ìƒìˆ˜ì´ë‹¤.

- `int`: 64bits ë¥¼ ë„˜ì§€ ì•ŠëŠ” ìˆ«ì, ë²”ìœ„ëŠ”   -2^63^ to +2^63^-1 

- `double`: 64bits ì†Œìˆ˜ì  í‘œê¸°ê°€ ê°€ëŠ¥í•œ ìˆ«ì 

  >  Type conversion
  >
  >  ```dart
  >  // String -> int
  >  var one = int.parse('1');
  >  assert(one == 1);
  >  
  >  // String -> double
  >  var onePointOne = double.parse('1.1');
  >  assert(onePointOne == 1.1);
  >  
  >  // int -> String
  >  String oneAsString = 1.toString();
  >  assert(oneAsString == '1');
  >  
  >  // double -> String
  >  String piAsString = 3.14159.toStringAsFixed(2);
  >  assert(piAsString == '3.14');
  >  ```



##### Strings

: Dart Stringì€ UTF-16 codeì˜ ì‹œí€¸ìŠ¤, `â€œâ€`ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```dart
var s1 = 'Single quotes work well for string literals.';
var s2 = "Double quotes work just as well.";
var s3 = 'It\'s easy to escape the string delimiter.';
var s4 = "It's even easier to use the other delimiter.";
```

- Concatenation: `+`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ìì—´ì„ ë¶™ì¼ ìˆ˜ ìˆë‹¤.
- Multiline string: `'''` ë˜ëŠ”` """`ì„ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ì¤„ì„ `+` ì—†ì´ ì“¸ ìˆ˜ ìˆë‹¤.
- String with value: ë³€ìˆ˜ ì•ì— `$`ì„ ë¶™ì—¬ ë¬¸ìì—´ë¡œ ì¸ì‹ë˜ì§€ ì•Šê²Œ í•œë‹¤.  `${expression}`ìœ¼ë¡œ í‘œí˜„

```dart
var s = 'string interpolation';
var s1 = '''
You can create
multi-line strings like this one.
''';

assert('Dart has $s, which is very handy.' ==
    'Dart has string interpolation, ' +
        'which is very handy.');
```

> Type Conversion
>
> ```dart
> // String -> int
> var one = int.parse('1');
> assert(one == 1);
> 
> // String -> double
> var onePointOne = double.parse('1.1');
> assert(onePointOne == 1.1);
> 
> // int -> String
> String oneAsString = 1.toString();
> assert(oneAsString == '1');
> 
> // double -> String
> String piAsString = 3.14159.toStringAsFixed(2);
> assert(piAsString == '3.14');
> ```



##### Booleans

: true/false, compile time constant



##### Lists

: ë‹¤ë¥¸ ì–¸ì–´ì—ì„œì˜ `array`ë¼ê³  ìƒê°í•˜ë©´ ë©ë‹ˆë‹¤.



- spread operator(â€¦): listì˜ ì „ì²´ ìš”ì†Œë¥¼ ë‹¤ë¥¸ listì— í†µì§¸ë¡œ ì§‘ì–´ë„£ëŠ” ê²ƒ

```dart
 var list = [1, 2, 3];
 var list2 = [0, ...list];
 assert(list2.length == 4);
```

 

- null-aware spread operator (â€¦?): listë¥¼ ë„£ì—ˆì„ ë•Œ ê·¸ listê°€ null listì¸ ì˜ˆì™¸ê²½ìš°ë¥¼ í”¼í•˜ê¸° ìœ„í•¨

```dart
 var list;
 var list2 = [0, ...?list];
 assert(list2.length == 1);
```

 

- collection if / for

```dart
var nav = [
  'Home',
  'Furniture',
  'Plants',
  // if(promoActive)ê°€ trueì´ë©´ ë°°ì—´ì— 'Outlet'ì„ elementë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
  if (promoActive) 'Outlet'
];

var listOfInts = [1, 2, 3];
var listOfStrings = [
  '#0',
  // listOfIntsì˜ elementë¥¼ ë°˜ë³µë¬¸ì„ ëŒë©° listOfStringì— ì¶”ê°€í•©ë‹ˆë‹¤.
  for (var i in listOfInts) '#$i'
];

```



##### Sets { } 

: unordered collection of unique items.

- ì„ ì–¸

```dart
var halogens = {'fluorine', 'chlorine', 'bromine', 'iodine', 'astatine'};
```

```dart
//typeì´ Stringì¸ set ì„ ì–¸
var names = <String>{};
Set<String> names = {};

// this is map, not a set
var names = {};
```



- ì¶”ê°€

```dart
var elements = <String>{};
var halogens = {'fluorine', 'chlorine', 'bromine', 'iodine', 'astatine'};

elements.add('fluorine');
elements.addAll(halogens);
```



- ê·¸ ì™¸ method

```dart
var halogens = {'fluorine', 'chlorine', 'bromine', 'iodine', 'astatine'};

// result is 5
print(halogens.length);
```



##### Maps

: keyì™€ valueë¥¼ ì—°ê²°í•˜ëŠ” ê°ì²´

- ì„ ì–¸

```dart
var gifts = {
  // Key:    Value
  'first': 'partridge',
  'second': 'turtledoves',
  'fifth': 'golden rings'
};

// ì´ë ‡ê²Œë„ ê°€ëŠ¥í•˜ë‹¤.
var gifts = Map();

gifts['first'] = 'partridge';
gifts['second'] = 'turtledoves';
gifts['fifth'] = 'golden rings';


// keyê°€ numì¸ ê²½ìš°
var nobleGases = {
  2: 'helium',
  10: 'neon',
  18: 'argon',
};

// ë§ˆì°¬ê°€ì§€ë¡œ ê°€ëŠ¥í•˜ë‹¤.
var nobleGases = Map();

nobleGases[2] = 'helium';
nobleGases[10] = 'neon';
nobleGases[18] = 'argon';
```



- ì¶”ê°€

```dart
var gifts = {'first': 'partridge'};
gifts['fourth'] = 'calling birds'; // Add a key-value pair
```



- íƒìƒ‰

```dart
var gifts = {'first': 'partridge'};
assert(gifts['first'] == 'partridge');
```

ë§Œì•½ ì°¾ê³ ì í•˜ëŠ” `key`ê°€ ë§µì— ì¡´ì¬ í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ null ì„ returní•œë‹¤.

```dart
var gifts = {'first': 'partridge'};
assert(gifts['fifth'] == null);
```



- ê·¸ì™¸ method

```dart
var gifts = {'first': 'partridge'};
gifts['fourth'] = 'calling birds';
assert(gifts.length == 2);
```





##### Runes & Grapheme clusters

: ìœ ë‹ˆì½”ë“œ ë° ì´ëª¨í‹°ì½˜, íŠ¹ìˆ˜ë¬¸ì

> í˜•ì‹: \uXXXX
>
> XXXXëŠ” 4ìë¦¬ 16ì§„ìˆ˜ ìˆ«ìì´ë‹¤.
>
> ì˜ˆë¥¼ ë“¤ì–´ í•˜íŠ¸ (â™¥)ëŠ” `\u2665`. 

```dart
import 'package:characters/characters.dart';
...
var hi = 'Hi ğŸ‡©ğŸ‡°';
print(hi);
print('The end of the string: ${hi.substring(hi.length - 1)}');
print('The last character: ${hi.characters.last}\n');
```

Output:

```
 dart bin/main.dart
Hi ğŸ‡©ğŸ‡°
The end of the string: ???
The last character: ğŸ‡©ğŸ‡°
```



##### Symbols





## **Function**

> ë‹¤íŠ¸ëŠ” ê°ì²´ì§€í–¥ ì–¸ì–´ì…ë‹ˆë‹¤. ë”°ë¼ì„œ í•¨ìˆ˜ë„ í•˜ë‚˜ì˜ ê°ì²´ì´ê³  typeì„ ê°–ì£ .
>
> ì¦‰, í•¨ìˆ˜ë„ ë³€ìˆ˜ë¡œ ì§€ì •ë  ìˆ˜ ìˆê³  ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ì¸ìë¡œ ì‚¬ìš© ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ì•„ë˜ì˜ ì„¤ëª…ì„ ë³´ì‹œì£ 



##### Functions as first-class object

> 1ê¸‰ ê°ì²´ë€?
>
> 1ê¸‰ ê°ì²´ë¥¼ ì•Œì•„ë³´ê¸° ì „ì— "**1ê¸‰ ì‹œë¯¼(first class citizen)**" ì´ë¼ëŠ” ê°œë…ì´ ìˆë‹¤. ì´ë¥¼ ë¨¼ì € ì†Œê°œí• ê¹Œ í•œë‹¤.
>
> - 1ê¸‰ ì‹œë¯¼ì˜ ì¡°ê±´
>   - ë³€ìˆ˜(variable)ì— ë‹´ì„ ìˆ˜ ìˆë‹¤.
>   - ì¸ì(parameter)ë¡œ ì „ë‹¬ í•  ìˆ˜ ìˆë‹¤.
>   - ë°˜í™˜ ê°’(return value)ìœ¼ë¡œ ì „ë‹¬ í•  ìˆ˜ ìˆë‹¤
>
> ëŒ€ë¶€ë¶„ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œëŠ” ìˆ«ìëŠ” **1ê¸‰ ì‹œë¯¼**ì˜ ì¡°ê±´ì„ ë§Œì¡±í•œë‹¤. ìˆ«ìëŠ” ë³€ìˆ˜ì— ì €ì¥í•  ìˆ˜ ìˆê³  ì¸ìë‚˜ ë°˜í™˜ê°’ìœ¼ë¡œ ì „ë‹¬ ë  ìˆ˜ ìˆë‹¤.
>
> ë§ˆì°¬ê°€ì§€ë¡œ 1ê¸‰ ê°ì²´(fist class object)ë„ ìœ„ 3ê°€ì§€ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê°ì²´ë¥¼ ëœ»í•œë‹¤.
>
> Dartì—ì„  functionë„ objectì´ë¯€ë¡œ functionë„ ì¼ê¸‰ ê°ì²´ì´ë‹¤. 

1. ë³€ìˆ˜ì— ë‹´ì„ ìˆ˜ ìˆë‹¤.

```dart
var loudify = (msg) => '!!! ${msg.toUpperCase()} !!!';
assert(loudify('hello') == '!!! HELLO !!!');
```

2. ì¸ìë¡œ ì „ë‹¬ë  ìˆ˜ ìˆë‹¤.
3. ë°˜í™˜ê°’ìœ¼ë¡œ ì „ë‹¬ë  ìˆ˜ ìˆë‹¤.

```dart
void printElement(int element) {
  print(element);
}

var list = [1, 2, 3];

// Pass printElement as a parameter.
list.forEach(printElement);
```



##### Arrow syntax (=> expression)

>arrow í•¨ìˆ˜ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í•  ë•Œ í™”ì‚´í‘œ(=>)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì˜í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
>
>í¬ê²Œ ë‘ê°€ì§€ ì‚¬ìš©ë²•ì´ ìˆìŠµë‹ˆë‹¤. 
>
>1. `=> expr` ëŠ” `{return expr}`ì˜ ì•½ì‹ í‘œì‹œ
>
>```dart
>// ê¸°ë³¸ í•¨ìˆ˜ ì„ ì–¸ ë°©ì‹
>function(){ ... }
>
>// Arrow í•¨ìˆ˜ ì„ ì–¸ ë°©ì‹
>() => { ... }
>```
>
>- arrow í•¨ìˆ˜ëŠ” **ìµëª…í•¨ìˆ˜**ì…ë‹ˆë‹¤.
>- í•¨ìˆ˜ ì„ ì–¸ ì‹œ ê¸°ì¡´ì˜ **function** í‚¤ì›Œë“œê°€ **=>** ìœ¼ë¡œ ëŒ€ì²´ë©ë‹ˆë‹¤.
>- arrow í•¨ìˆ˜ì™€ function í‚¤ì›Œë“œë¡œ ì„ ì–¸í•œ í•¨ìˆ˜ëŠ” ë¹„ìŠ·í•˜ì§€ë§Œ ì¡°ê¸ˆ ë‹¤ë¦…ë‹ˆë‹¤.

>Example)
>
>```dart
>bool isNoble(int atomicNumber) {
>	return _nobleGases[atomicNumber] != null;
>
>
>equals
>
>bool isNoble(int atomicNumber) => _nobleGases[atomicNumber] != null;
>```
>
>
>
>2. ì•„ë¬´ê²ƒë„ ë°˜í™˜í•˜ì§€ ì•Šì•„ë„ ë‹¨ì¼ ëª…ë ¹ë¬¸ì„ ì²˜ë¦¬í•œë‹¤.
>
>```dart
>void demoFunction(String s) => print(s);
>```





##### Anonymous function(ìµëª…í•¨ìˆ˜)

>  ë‹¤ë¥¸ì–¸ì–´ì—ì„œëŠ” ëŒë‹¤, í´ë¡œì € ë¼ê³ ë„ í•©ë‹ˆë‹¤. ë§ê·¸ëŒ€ë¡œ ìµëª…ì´ê¸° ë•Œë¬¸ì— ì´ë¦„ì´ ì—†ê³  ë‹¹ì¥ ì‹¤í–‰í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. ë˜í•œ Dartì—ì„œ í•¨ìˆ˜ëŠ” function íƒ€ì…ì˜ first-order- objectì´ê¸° ë•Œë¬¸ì— í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ì— í• ë‹¹í•  ìˆ˜ë„ ìˆê³ , ì¸ìë¡œë„ ê±´ë‚´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” ìµëª…í•¨ìˆ˜ì˜ í¬ê´„ì ì¸ ì‚¬ìš©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

- í˜•ì‹

([[*Type*] *param1*[, â€¦]]) {
 *codeBlock*;
};

```dart
//Example with more than one parameter
(item, index) {
  print('$index: $item');
};

// no parameter
() {
  print("Hello");
};
```



**Anonymous function, first-order class, arrow function ì¢…í•©ì˜ˆì œ**

> ```dart
> var foo = () => { ... }
> ```
>
> í•¨ìˆ˜ë¥¼ ì„ ì–¸í•´ì„œ ë³€ìˆ˜ì— í• ë‹¹í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.
>
> 
>
> ```dart
> void main() {
> var add = (a, b) => a + b;
> 
> print(add(3, 5));
> }
> ```
>
> í•¨ìˆ˜ì— ë§¤ê°œë³€ìˆ˜ë¥¼ ì •ì˜í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.
>
> 
>
> ```dart
> void main() {
> ((a, b) => {
>  print(a + b)
> })(3,5);
> ```
>
> ì¦‰ì‹œ ì‹¤í–‰ì´ ê°€ëŠ¥í•˜ë©°, ì¦‰ì‹œ ì‹¤í–‰ ì‹œ íŒŒë¼ë¯¸í„°ë¥¼ ë„˜ê²¨ì£¼ëŠ” ì˜ˆì œì…ë‹ˆë‹¤.
>
> 
>
> ```dart
> void main() {
> var list = ['apples', 'bananas', 'oranges'];
> list.forEach(
>  (item) => print('${list.indexOf(item)}: $item'));
> }
> ```
>
> 



##### Lexical scope 

> Lexical scopeë€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œ í•  ë•Œê°€ ì•„ë‹ˆë¼ í•¨ìˆ˜ë¥¼ ì–´ë”” ì„ ì–¸í•˜ì˜€ëŠ”ì§€ì— ë”°ë¼ ê²°ì •ë¨ì„ ëœ»í•œë‹¤.

> - Execution context ==**(scope chain, closureì˜ ì„ ìˆ˜ì§€ì‹)**==
>
> : <u>ì‹¤í–‰ ê°€ëŠ¥í•œ ì½”ë“œ</u>ê°€ ì‹¤í–‰ë˜ê¸° ìœ„í•´ í•„ìš”í•œ í™˜ê²½
>
> 1. ì „ì—­ì½”ë“œ: ì „ì—­ì— ì¡´ì¬í•˜ëŠ” ì½”ë“œ
> 2. í•¨ìˆ˜ì½”ë“œ: í•¨ìˆ˜ ë‚´ì— ì¡´ì¬í•˜ëŠ” ì½”ë“œ
> 3. Evalì½”ë“œ: eval í•¨ìˆ˜ë¡œ ì‹¤í–‰ë˜ëŠ” ì½”ë“œ
>
> ì„¤ëª…ì´ ê¸¸ì–´ì§ˆ ê²ƒ ê°™ì•„ ë‹¤ìŒ ë§í¬ë¡œ ëŒ€ì²´: https://poiemaweb.com/js-execution-context

> - scope chain
>
> : í•¨ìˆ˜ë¥¼ ì²˜ìŒ ==ì„ ì–¸í•˜ëŠ” ìˆœê°„==(<u>í•¨ìˆ˜ì˜ í˜¸ì¶œì‹œì ì´ ì•„ë‹Œ ì„ ì–¸ì‹œì </u>), í•¨ìˆ˜ ë‚´ë¶€ì˜ ë³€ìˆ˜ëŠ” ==ìê¸° ìŠ¤ì½”í”„ë¡œë¶€í„° ê°€ì¥ ê°€ê¹Œìš´ ê³³==ë¶€í„° ë³€ìˆ˜ë¥¼ ë‹¨ê³„ì ìœ¼ë¡œ ì°¸ì¡°í•˜ëŠ” ê²ƒ

>ê¸°ì¡´ ì–¸ì–´ì—ì„œëŠ” block ë‹¨ìœ„ì˜ ë³€ìˆ˜ì˜ ìœ íš¨ë²”ìœ„ë¥¼ ì •í•´ì™”ì§€ë§Œ `javascript`, `dart`ì—ì„œëŠ” block ë‹¨ìœ„ê°€ ì•„ë‹Œ function ë‹¨ìœ„ë¡œ ìœ íš¨ë²”ìœ„ë¥¼ ì •í•©ë‹ˆë‹¤. 

>ë¸”ë¡(block)ì´ë€ ì½”ë“œ ë‚´ì—ì„œ ì¤‘ê´„í˜¸({})ë¡œ ë‘˜ëŸ¬ì‹¸ì¸ ë¶€ë¶„ì„ ê°€ë¦¬í‚µë‹ˆë‹¤. ì´ëŸ¬í•œ ë¸”ë¡ì„ ê¸°ì¤€ìœ¼ë¡œ í•˜ëŠ” ìœ íš¨ ë²”ìœ„ë¥¼ ë¸”ë¡ ë‹¨ìœ„ì˜ ìœ íš¨ ë²”ìœ„ë¼ê³  í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ javascriptì™€ dartëŠ” ë‹¤ë¥¸ ì–¸ì–´ì™€ëŠ” ë‹¬ë¦¬ ë¸”ë¡ ë‹¨ìœ„ ëŒ€ì‹  ==**í•¨ìˆ˜ ë‹¨ìœ„**==ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
>
>`javascript`ì™€ `dart`ì—ì„œ í•¨ìˆ˜ëŠ” ìì‹ ì´ ì •ì˜ëœ ë²”ìœ„ ì•ˆì—ì„œ ì •ì˜ëœ ëª¨ë“  ë³€ìˆ˜ ë° í•¨ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> ```dart
> main() { //a new scope
> String language = "Dart";
> 
> void outer()  {
>  String level = 'one';
>  String example = "scope";
> 
>  void inner() { 
>    Map level = {'count': "Two"};
>    print('example: $example, level: $level');
>    print('What Language: $language');
>  } // inner end
>  inner();
>  print('example: $example, level: $level');
> } // outer end
> outer();
> } 
> ```
>
> Result
>
> ```c
> example: scope, level: two
> What Language: Dart
> example: scope, level: one
> ```
>
> ì´ ë‹µì´ ì´í•´ê°€ ëœë‹¤ë©´ scope chainì— ëŒ€í•´ì„œ ì´í•´í•œ ê²ƒì…ë‹ˆë‹¤.





##### Lexical closures

ìì‹ ì„ í¬í•¨í•˜ê³  ìˆëŠ” ì™¸ë¶€í•¨ìˆ˜ë³´ë‹¤ ë‚´ë¶€í•¨ìˆ˜ê°€ ë” ì˜¤ë˜ ìœ ì§€ë˜ëŠ” ê²½ìš°, ì™¸ë¶€ í•¨ìˆ˜ ë°–ì—ì„œ ë‚´ë¶€í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë”ë¼ë„ ì™¸ë¶€í•¨ìˆ˜ì˜ ì§€ì—­ ë³€ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ë° ì´ëŸ¬í•œ í•¨ìˆ˜ë¥¼ í´ë¡œì €(Closure)ë¼ê³  ë¶€ë¥¸ë‹¤.

í´ë¡œì €ì— ëŒ€í•´ ë” ì•Œê³  ì‹¶ë‹¤ë©´: https://poiemaweb.com/js-closure



ë‹¤ìŒ ì˜ˆì œë¥¼ ë³´ì

```dart
/// Returns a function that adds [addBy] to the
/// function's argument.
Function makeAdder(num addBy) {
  return (num i) => addBy + i;
}

void main() {
  // Create a function that adds 2.
  var add2 = makeAdder(2);

  // Create a function that adds 4.
  var add4 = makeAdder(4);

  assert(add2(3) == 5); // 5
  assert(add4(3) == 7); // 7
}
```

`makeAdder` í•¨ìˆ˜ëŠ” ì¸ìë¡œ  `addBy`ë¥¼ ë°›ê³  ìƒˆë¡œìš´ ìµëª…í•¨ìˆ˜ë¥¼ ë¦¬í„´í•´ì¤ë‹ˆë‹¤. 

ìƒˆë¡œìš´ ìµëª… í•¨ìˆ˜ëŠ” ì¸ìë¡œ `i`ë¥¼ ë°›ì•„ì„œ `addBy`ì™€ `i`ê°’ì„ ë”í•´ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.



`makdeAdder(2)`ì™€ `makdeAdder(4)`ëŠ” ê°ê° ë³€ìˆ˜ `add2`, `add4`ì— ë‹´ê²¨ìˆê³ , ê°ê°ì˜ ì§€ì—­ë³€ìˆ˜ `addBy`ì—ëŠ” 2ì™€ 4ê°€ ì €ì¥ë˜ì–´ìˆìŠµë‹ˆë‹¤.

ìƒˆë¡œìš´ ìµëª…í•¨ìˆ˜ê°€ ë³€ìˆ˜ì— ì €ì¥ë¨ìœ¼ë¡œì„œ í•¨ìˆ˜ì˜ ìƒì€ ë§ˆê°ë˜ì—ˆìŠµë‹ˆë‹¤.. í•˜ì§€ë§Œ `assert`ë¬¸ì—ì„œ ê°ê°ì˜ `add2, add4`ì— ì €ì¥ë˜ì–´ìˆëŠ” `addBy`ê°’ (2ì™€ 4)ì— ì ‘ê·¼ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

í•¨ìˆ˜ê°€ í˜¸ì¶œ í›„ì— ì¢…ë£Œë˜ì–´ë„ ì§€ì—­ë³€ìˆ˜ì¸ `addBy`ë¥¼ ê¸°ì–µí•˜ê³  ìˆë‹¤ëŠ” ì–˜ê¸°ê°€ ë©ë‹ˆë‹¤. 

ì´ì™€ ê°™ì´ í´ë¡œì €ëŠ” ë°˜í™˜ëœ ë‚´ë¶€í•¨ìˆ˜ê°€ ìì‹ ì´ ì„ ì–¸ëì„ ë•Œì˜ í™˜ê²½(Lexical environment)ì¸ ìŠ¤ì½”í”„ë¥¼ ê¸°ì–µí•˜ì—¬ ìì‹ ì´ ì„ ì–¸ëì„ ë•Œì˜ í™˜ê²½(ìŠ¤ì½”í”„) ë°–ì—ì„œ í˜¸ì¶œë˜ì–´ë„ ê·¸ í™˜ê²½(ìŠ¤ì½”í”„)ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ë§í•œë‹¤. ì´ë¥¼ ì¡°ê¸ˆ ë” ê°„ë‹¨íˆ ë§í•˜ë©´ í´ë¡œì €ëŠ” ìì‹ ì´ ìƒì„±ë  ë•Œì˜ í™˜ê²½(Lexical environment)ì„ ê¸°ì–µí•˜ëŠ” í•¨ìˆ˜ë‹¤ë¼ê³  ë§í•  ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤.



##### Parameter

1. required

   ```dart
   bool isNoble(int atomicNumber) {
   	return _nobleGases[atomicNumber] != null;
   }
   ```

   ()ë¡œ wrapping ë˜ì–´ ìˆëŠ” parameterë“¤ í•¨ìˆ˜ê°€ í˜¸ì¶œ ë  ë•Œ parameterê°€ ì „ë‹¬ë˜ì§€ ì•Šìœ¼ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.

   

2. optional

- Named Parameter
  
```dart
   /// Sets the [bold] and [hidden] flags ...
void enableFlags({bool bold, bool hidden}) {...}
```

   parameterê°€ {} ë¡œ wrapping ë˜ì–´ ìˆìœ¼ë©´ optional named parameterë¼ê³  í•œë‹¤.

   ìœ„ì˜ ì½”ë“œ ì²˜ëŸ¼ { } ì•ˆì— ì—¬ëŸ¬ ê°œì˜ parameterê°€ ë“¤ì–´ ê°ˆ ìˆ˜ ìˆë‹¤.

   

   ```dart
const Scrollbar({Key key, @required Widget child})
   ```

   ë¹„ë¡, optional named parameterë¼ë„ ìœ„ì˜ ì½”ë“œì²˜ëŸ¼ @required ë¼ê³  ëª…ì‹œë˜ì–´ ìˆëŠ” parameterëŠ” í•¨ìˆ˜ í˜¸ì¶œê³¼ í•¨ê»˜ í•­ìƒ ìˆì–´ì•¼ í•œë‹¤.

   

   - Positional parameter

   ```dart
String say(String from, String msg, [String device]) {
     var result = '$from says $msg';
  if (device != null) {
       result = '$result with a $device';
  }
     return result;
}
   ```

   [ ]ìœ¼ë¡œ ìŒ“ì—¬ìˆëŠ” parameterëŠ” optional postional parameterë¼ê³  í•œë‹¤. @requiredì™€ ìƒë°˜ë˜ê²Œ í•¨ìˆ˜ í˜¸ì¶œ ì‹œ ì—†ì–´ë„ ì •ìƒì ì¸ í˜¸ì¶œì´ ê°€ëŠ¥í•˜ë‹¤. ì´ëŠ” í•­ìƒ í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ì˜ ë¬´ì¡°ê±´ ë’¤ìª½ì— ë¶™ì–´ì•¼ í•œë‹¤.

   

   - Default parameter value

   optional parameterë„ ë¬´ì‘ì • ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. Pre-defineë˜ì–´ ìˆì–´ì•¼ ì‚¬ìš©ê°€ëŠ¥í•œë°, ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•œë‹¤.

   ```dart
   /// Sets the [bold] and [hidden] flags ...
   void enableFlags({bool bold = false, bool hidden = false}) {...}
   
   // bold will be true; hidden will be false.
   enableFlags(bold: true);
   ```

   ë§Œì•½ default valueë¥¼ ì„¤ì •í•´ë†“ì§€ ì•Šìœ¼ë©´ `null`ê°’ìœ¼ë¡œ ì´ˆê¸°í™”ëœë‹¤.

   


##### The main() function

main í•¨ìˆ˜ëŠ” ëª¨ë“  ì•±ì˜ ì§„ì…ì  ì—­í• ì„ í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

`void`ë¥¼ returní•˜ë©° argumentë¡œ `List<String>`ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.

```dart
// Run the app like this: dart args.dart 1 test
void main(List<String> arguments) {
  print(arguments);

  assert(arguments.length == 2);
  assert(int.parse(arguments[0]) == 1);
  assert(arguments[1] == 'test');
}
```



##### Return value

> ëª¨ë“  í•¨ìˆ˜ëŠ” return ê°’ì„ ê°–ëŠ”ë‹¤. ëª…ì‹œì ìœ¼ë¡œ ì§€ì •ë˜ì–´ìˆì§€ ì•Šìœ¼ë©´ `null`ì„ ë¦¬í„´í•œë‹¤.



## **Operators**

#####  Arithmetic operators

| Operator | Meaning                                                      |
| -------- | ------------------------------------------------------------ |
| `+`      | Add                                                          |
| `â€“`      | Subtract                                                     |
| `-expr`  | Unary minus, also known as negation (reverse the sign of the expression) |
| `*`      | Multiply                                                     |
| `/`      | Divide                                                       |
| `~/`     | Divide, returning an integer result                          |
| `%`      | Get the remainder of an integer division (modulo)            |



DartëŠ” ë³€ìˆ˜ì— ëŒ€í•œ increment, decrementì—°ì‚°ìë„ ì§€ì›í•œë‹¤.

| Operator  | Meaning                                         |
| --------- | ----------------------------------------------- |
| `++var`   | `var = var + 1` (expression value is `var + 1`) |
| `var++`   | `var = var + 1` (expression value is `var`)     |
| `--var`   | `var = var â€“ 1` (expression value is `var â€“ 1`) |
| `*var*--` | `var = var â€“ 1` (expression value is `var`)     |

Example)

```dart
var a, b;

a = 0;
b = ++a; // Increment a before b gets its value.
assert(a == b); // 1 == 1

a = 0;
b = a++; // Increment a AFTER b gets its value.
assert(a != b); // 1 != 0

a = 0;
b = --a; // Decrement a before b gets its value.
assert(a == b); // -1 == -1

a = 0;
b = a--; // Decrement a AFTER b gets its value.
assert(a != b); // -1 != 0
```



#####Equality and relational operators

| Operator | Meaning                  |
| -------- | ------------------------ |
| `==`     | Equal                    |
| `!=`     | Not equal                |
| `>`      | Greater than             |
| `<`      | Less than                |
| `>=`     | Greater than or equal to |
| `<=`     | Less than or equal to    |



##### Type test operators

| Operator | Meaning                                    |
| -------- | ------------------------------------------ |
| `as`     | Typecast  (ë³€ìˆ˜ì˜ typeì„ ë°”ê¿”ì¤Œ)           |
| `is`     | True if the object has the specified type  |
| `is!`    | False if the object has the specified type |

Example)

```dart
if (emp is Person) {
  // Type check
  emp.firstName = 'Bob';
}
```

`as` ë¥¼ ì‚¬ìš©í•˜ë©´ ë”ìš± ê°„ë‹¨í•˜ê²Œ ì‘ì„± í•  ìˆ˜ ìˆë‹¤.

```dart
(emp as Person).firstName = 'Bob';
```



##### Assignment operator

```dart
// aì— valueë¥¼ í• ë‹¹í•œë‹¤.
a = value;
// ë§Œì•½ bê°€ nullì´ë©´ valueë¥¼ í• ë‹¹í•˜ê³  ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤.
b ??= value;

Point point;
point ??= Point(x:1, y:2);
```



##### Compound operator

|                           | Compound assignment | Equivalent expression |
| ------------------------- | ------------------- | --------------------- |
| **For an operator *op*:** | `a op= b`           | `a = a op b`          |
| **Example:**              | `a += b`            | `a = a + b`           |

| `=`  | `â€“=` | `/=`  | `%=`  | `>>=` | `^=` |
| ---- | ---- | ----- | ----- | ----- | ---- |
| `+=` | `*=` | `~/=` | `<<=` | `&=`  | `|=` |



##### Logical operators

| Operator | Meaning                               |
| -------- | ------------------------------------- |
| `!expr`  | changes false to true, and vice versa |
| `||`     | logical OR                            |
| `&&`     | logical AND                           |

Example)

```dart
if (!done && (col == 0 || col == 3)) {
  // ...Do something...
}
```



##### Bitwise and shift operators

| Operator | Meaning                                               |
| -------- | ----------------------------------------------------- |
| `&`      | AND                                                   |
| `|`      | OR                                                    |
| `^`      | XOR                                                   |
| `~expr`  | Unary bitwise complement (0s become 1s; 1s become 0s) |
| `<<`     | Shift left                                            |
| `>>`     | Shift right                                           |



##### Conditional expressions

- `condition ? expr1 : expr2`

  ë§Œì•½ `conddtion`ì´ `true`ì´ë©´ `expr1`ì„ ì‹¤í–‰í•˜ê³  `false`ì´ë©´ `expr2`ë¥¼ ì‹¤í–‰í•œë‹¤.

  ```dart
  var visibility = isPublic ? 'public' : 'private';
  ```

  

- `expr1 ?? expr2`

  ë§Œì•½ `expr`1ì´ `null`ì´ ì•„ë‹ˆë©´ `expr1`ì„ returní•˜ê³ , `null`ì´ë©´ `expr2`ì˜ ê°’ì„ ë¦¬í„´í•œë‹¤

  ```dart
  String playerName(String name) => name ?? 'Guest';
  ```



cf> Cascade notation(`..`)

objectì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ê°€ì ¸ì™€ì„œ ì†ì„±ì„ í•˜ë‚˜ì”© ë³€ê²½í•˜ëŠ” ëŒ€ì‹  ==**objectë¥¼ ë§Œë“œëŠ” ë™ì•ˆ objectì˜ ì†ì„±ì„ ë³€ê²½**==í•˜ëŠ” ê°„ë‹¨í•œ ë°©ë²•ì…ë‹ˆë‹¤.

```dart
Point p = Point();
p.x = 3;
p.y = 6;
```

ì•„ë˜ì™€ ê°™ì´ ë°”ê¿” ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```dart
Point p = Point()
  ..x = 3
  ..y = 6;
```

ì¤‘ì²©í•´ì„œ ì“¸ ìˆ˜ ë„ ìˆìŠµë‹ˆë‹¤.

```dart
final addressBook = (AddressBookBuilder()
      ..name = 'jenny'
      ..email = 'jenny@example.com'
      ..phone = (PhoneNumberBuilder()
            ..number = '415-555-0100'
            ..label = 'home')
          .build())
    .build();
```



##### Other operators

| Operator | Name                      | Meaning                                                      |
| -------- | ------------------------- | ------------------------------------------------------------ |
| `()`     | Function application      | Represents a function call                                   |
| `[]`     | List access               | Refers to the value at the specified index in the list       |
| `.`      | Member access             | Refers to a property of an expression; example: `foo.bar` selects property `bar` from expression `foo` |
| `?.`     | Conditional member access | Like `.`, but the leftmost operand can be null; example: `foo?.bar` selects property `bar` from expression `foo` unless `foo` is null (in which case the value of `foo?.bar` is null) |





## **Control Flow Statement**

- `if` and `else`
- `for` loop

```dart
var message = StringBuffer('Dart is fun');
for (var i = 0; i < 5; i++) {
  message.write('!');
}
```

ì•„ë˜ì™€ ê°™ì´ ì“¸ ìˆ˜ ë„ ìˆë‹¤.

```dart
var collection = [0, 1, 2];
for (var x in collection) {
  print(x); // 0 1 2
}
```

- `while` and `do-while`
- `break` and `continue`
- `switch` clause

```dart
var command = 'OPEN';
switch (command) {
  case 'CLOSED':
    executeClosed();
    break;
  case 'PENDING':
    executePending();
    break;
  case 'APPROVED':
    executeApproved();
    break;
  case 'DENIED':
    executeDenied();
    break;
  case 'OPEN':
    executeOpen();
    break;
  default:
    executeUnknown();
}
```

- `Assert`

 : `assert`ëŠ” ê°œë°œ ëª¨ë“œì—ë§Œ ì˜í–¥ì„ ë¯¸ì¹˜ë©°, ìš´ì˜ ì½”ë“œì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ” ì—ëŸ¬ ê²€ì¶œì— ì‚¬ìš©ë˜ëŠ” ë¬¸ë²•ì…ë‹ˆë‹¤.

ì¡°ê±´ë¬¸ì„ ê²€ì‚¬í•´ falseê°€ returnë˜ë©´ ì½”ë“œ ì‹¤í–‰ì„ ì¤‘ì§€ì‹œí‚µë‹ˆë‹¤. 

ì¶”ê°€ë¡œ ì½”ë“œ ì‹¤í–‰ì´ ì¤‘ì§€ ë˜ì—ˆì„ ë•Œ ì‚¬ìš©ìê°€ ì§€ì •í•œ ë©”ì‹œì§€ë„ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`assert(condition, optionalMessage)` ê°™ì´ ì‚¬ìš©í•©ë‹ˆë‹¤.

```dart
// Make sure the variable has a non-null value.
assert(text != null);

// Make sure the value is less than 100.
assert(number < 100);

// Make sure this is an https URL.
assert(urlString.startsWith('https'),
    'URL ($urlString) should start with "https".');
```



## **Isolates**

> í˜„ëŒ€ ì»´í“¨í„°ëŠ” ë¹ ë¥¸ ì†ë„ë¥¼ ë³´ì¥í•˜ê¸°ìœ„í•´ ë©€í‹°ì“°ë ˆë”©, shared-memory ë“±ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ í•œ ìª½ì—ì„œ ì˜¤ë¥˜ê°€ í„°ì§€ë©´ ë³µì¡í•œ ë¬¸ì œê°€ ì•¼ê¸° ë  ìˆ˜ ìˆë‹¤ëŠ” ë¬¸ì œì ì´ ìˆì£ . ì´ëŸ¬í•œ ë¬¸ì œì ì„ í•´ê²° í•˜ê¸° ìœ„í•´   Dart codeëŠ” threadëŒ€ì‹  isolateë¼ëŠ” ë‹¨ìœ„ë¡œ codeë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.  ê° isolateëŠ” ì„œë¡œì—ê²Œ ê°„ì„­í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì–´ë””ì„œ  ì˜ëª»ë˜ì—ˆëŠ”ê°€ì— ëŒ€í•´ DartëŠ” ê¸ˆë°©ì°¾ì•„ë‚¼ ìˆ˜ ìˆì£ .





## **Exceptions**

> Exceptionsì€ ì˜ˆìƒì¹˜ ëª»í•œ ì¼ì´ ë°œìƒí–ˆìŒì„ ë‚˜íƒ€ë‚´ëŠ” ì˜¤ë¥˜ì…ë‹ˆë‹¤.  ë§Œì•½ exceptionì´ ë°œìƒí•˜ë©´ exceptionì´ ë°œìƒí•œ isolateë¥¼ ì¤‘ì§€ì‹œí‚¤ê³  í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œì‹œí‚µë‹ˆë‹¤.
>
> Dartì—ëŠ” javaì™€ ë‹¤ë¥´ê²Œ ëª¨ë“  exceptionì´ ëŸ°íƒ€ì„ ì—ëŸ¬(unchecked exception)ì…ë‹ˆë‹¤. ë”°ë¼ì„œ method ë ˆë²¨ì—ì„  exceptionì„ catch í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

- Throw: ì˜ˆì™¸ ë°œìƒì‹œí‚¤ê¸°

```dart
throw FormatException('Expected at least 1 section');
```

You can also throw arbitrary objects:

```dart
throw 'Out of llamas!';
```



- try and catch

   `on` `catch` ìœ¼ë¡œ exceptionì„ `catch` í•´ì„œ  ì—ëŸ¬ ì „íŒŒë¥¼ ë§‰ëŠ”ë‹¤. (ì—ëŸ¬ê°€ ë‚œ ì‹œì ì— kill)

  - `on`: exception typeì„ êµ¬ì²´í™” ì‹œí‚¬ í•„ìš”ê°€ ìˆì„ ë•Œ

  - `catch(e, s)`: exception handlerê°€  exception objectê°€ í•„ìš” í•  ë•Œ

    - exception
    - stack trace

    ```dart
    try {
      // Â·Â·Â·
    } on Exception catch (e) {
      print('Exception details:\n $e');
    } catch (e, s) {
      print('Exception details:\n $e');
      print('Stack trace:\n $s');
    }
    ```



- rethrow

  : ë¶€ë¶„ì ì¸ ì—ëŸ¬ë¥¼ ì¡ì„ ë•Œ ì—ëŸ¬ ì „íŒŒë¥¼ ì‚¬ìš©í•´ì„œ ë³´ëŠ” ê²ƒ

  ```dart
  void misbehave() {
    try {
      dynamic foo = true;
      print(foo++); // Runtime error
    } catch (e) {
      print('misbehave() partially handled ${e.runtimeType}.');
      rethrow; // Allow callers to see the exception.
    }
  }
  
  void main() {
    try {
      misbehave();
    } catch (e) {
      print('main() finished handling ${e.runtimeType}.');
    }
  }
  ```

- finally

í”„ë¡œê·¸ë¨ ìˆ˜í–‰ ë„ì¤‘ ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ í”„ë¡œê·¸ë¨ì´ ì¤‘ì§€ë˜ê±°ë‚˜ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í–ˆì„ ê²½ìš° catchêµ¬ë¬¸ì´ ì‹¤í–‰ëœë‹¤. í•˜ì§€ë§Œ ì–´ë–¤ ì˜ˆì™¸ê°€ ë°œìƒí•˜ë”ë¼ë„ ë°˜ë“œì‹œ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë¶€ë¶„ì´ ìˆì–´ì•¼ í•œë‹¤ë©´ `finally`ë¡œ ì²˜ë¦¬í•´ì¤€ë‹¤

```dart
try {
  breedMoreLlamas();
} catch (e) {
  print('Error: $e'); // ì—ëŸ¬ê°€ ì¶œë ¥ë˜ê³ 
} finally {
  cleanLlamaStalls(); // ì´ statementê°€ ì‹¤í–‰ëœë‹¤.
}
```





## **Classes** // ì•½ê°„ ë” ë³´ì¶©

Dart is an object-oriented language with classes and mixin-based inheritance. Every object is an instance of a class, and all classes descend from [Object.](https://api.dart.dev/stable/dart-core/Object-class.html) *Mixin-based inheritance* means that although every class (except for Object) has exactly one superclass, a class body can be reused in multiple class hierarchies. [Extension methods](https://dart.dev/guides/language/language-tour#extension-methods) are a way to add functionality to a class without changing the class or creating a subclass.



- Object
  - Object reference

    1. `.` :  class memberì— ì ‘ê·¼.

    ```dart
    var p = Point(2, 2);
    
    // Set the value of the instance variable y.
    p.y = 3;
    
    // Get the value of y.
    assert(p.y == 3);
    
    // Invoke distanceTo() on p.
    num distance = p.distanceTo(Point(4, 4));
    ```

    

    2. `?.`  : ì™¼ìª½ì˜ ë³€ìˆ˜ê°€ `null`ì´ ì•„ë‹ˆë©´ ë³€ìˆ˜ë¥¼ í• ë‹¹í•œë‹¤.

    ```dart
    // If p is non-null, set its y value to 4.
    p?.y = 4;
    ```

  - Object creation

    : ì„ ì–¸ê³¼ constructorë¥¼ ì´ìš©í•´ ë§Œë“œëŠ” ë°©ë²•

    ```dart
    var p1 = new Point(2, 2);
    var p2 = new Point.fromJson({'x': 1, 'y': 2});
    
    // constì˜ ê²½ìš°
    var a = const ImmutablePoint(1, 1);
    var b = const ImmutablePoint(1, 1);
    
    assert(identical(a, b)); // They are the same instance!
    ```

    

  - Object query

  ```dart
  print('The type of a is ${a.runtimeType}');
  ```

  

  - instance variable

    : non-final instance variableì€ ì•”ì‹œì ìœ¼ë¡œ getterì™€ setterë¥¼ ê°€ì§€ê³  ìˆë‹¤.

    ```dart
    class Point {
      num x; // Declare instance variable x, initially null.
      num y; // Declare y, initially null.
    }
    
    
    void main() {
      var point = Point();
      point.x = 4; // Use the setter method for x.
      assert(point.x == 4); // Use the getter method for x.
      assert(point.y == null); // Values default to null.
    }
    ```

    

- Constructors

: í´ë˜ìŠ¤ì™€ ì´ë¦„ì´ ê°™ì€ í•¨ìˆ˜ë¥¼ ë‚´ë¶€ì— ì„ ì–¸í•´ ìƒì„±ìë¥¼ ë§Œë“­ë‹ˆë‹¤. ì´ ìƒì„±ìëŠ” classì˜ ìƒˆë¡œìš´ instanceë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```dart
class Point {
  num x, y;

  Point(num x, num y) {
    // There's a better way to do this, stay tuned.
    this.x = x;
    this.y = y;
  }
}
```

> ì—¬ê¸°ì„œ `this`ëŠ” í˜„ì¬ ì‹œì ì˜ instanceë¥¼ ê°€ë¦¬í‚¨ë‹¤. 



## **Generics**

> ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•  ë•Œ ì‚¬ìš©í•  íƒ€ì…ì„ ì •í•˜ì§€ ì•Šê³  ì„ì˜ì˜ íƒ€ì…(Generic)ì„ ì‚¬ìš©í•˜ê³  ì‹¤ì œë¡œ ì›í•˜ëŠ” ìë£Œê°’ì˜ íƒ€ì…ì€ ì‚¬ìš©í•  ë•Œ ì„ ì–¸í•  ìˆ˜ ìˆëŠ” ë°©ì‹ì´ë‹¤.

```dart
var names = new List<String>();

names.addAll(['Seth', 'Kathy', 'Lars']);

// ...

names.add(42); // Fails in checked mode (succeeds in production mode).
```

> Example) Stringìœ¼ë¡œ ì§€ì •ì„ í•œë‹¤ëŠ” ì˜ë„ë¥¼ Genericì„ í†µí•´ ë¶„ëª…íˆ í•¨



- type variablesë¡œëŠ” í†µìƒ E, T, S, K, V ê°™ì€ ë‹¨ì¼ ë¬¸ìë¥¼ ê°–ëŠ”ë‹¤. 

* ì œë„¤ë¦­ì€ ì½”ë“œì˜ ì¤‘ë³µì„ ë°©ì§€í•´ ì¤€ë‹¤. ìƒì†í•˜ì—¬ êµ¬í˜„

> ```dart
> // Object ê²½ìš° 
> abstract class ObjectCache {
> Object getByKey(String key);
> setByKey(String key, Object value);
> }
> 
> // String ê²½ìš° 
> abstract class StringCache {
> String getByKey(String key);
> setByKey(String key, String value);
> }
> 
> 
> // í•˜ë‚˜ë¡œ ì¤„ì—¬ì¤Œ 
> abstract class Cache<T> {
> T getByKey(String key);
> setByKey(String key, T value);
> }
> ```



- Collection literalì—ë„ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. 

> ```dart
> var names = <String>['Seth', 'Kathy', 'Lars'];
> var pages = <String, String>{
> 'index.html': 'Homepage',
> 'robots.txt': 'Hints for web robots',
> 'humans.txt': 'We are people, not machines'
> };
> ```





## **Libraries and visibility **

- import, part, library ì§€ì‹œì(Directives) ì‚¬ìš©í•œë‹¤. 

- ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” [Pub Package and Asset Manager](https://www.dartlang.org/tools/pub/)ì¸ pub íˆ´ë¡œ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš© ë°°í¬í•œë‹¤. 

- importëŠ” URI í˜•ì‹œê·¸ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì§€ì •í•œë‹¤. 

  ```dart
  import 'dart:html'l;
  ```

- ë¹ŒíŠ¸ì¸ì€ 'dart:xxx' ë¡œ ì‹œì‘í•œë‹¤. 

- pub íˆ´ ë°°í¬ë¡œ ì œê³µë˜ëŠ” ê²ƒì€ ì•„ë˜ì™€ ê°™ì´ ì§€ì •í•œë‹¤.

  ```dart
  import 'package:<file path>';
  ```

- asë¡œ aliasingì´ ê°€ëŠ¥ 

  ```dart
  import 'package:lib2/lib2.dart' as lib2; 
  ```

- show, hide í†µí•´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¼ë¶€ë§Œ ê°€ì ¸ì˜¤ê¸° ê°€ëŠ¥

  ```dart
  import 'package:lib2/lib2.dart' show foo;
  ```

- ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ Lazily loadingì´ ê°€ëŠ¥í•˜ë‹¤. deferred as í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œë‹¤. 

  > Why?
  >
  > 1. ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ˆê¸° ì‹œì‘ì‹œê°„ì„ ì¤„ì´ê¸° ìœ„í•´ ì‚¬ìš©
  > 2. A/B Test ìˆ˜í–‰
  > 3. ì‚¬ìš©ì´ ì ì€ ê²ƒë“¤ì„ ë¡œë”©

  		**ë°©ë²• 1**: then êµ¬ë¬¸ ì‚¬ìš©

  ``` dart
  import 'package:deferred/hello.dart' deferred as hello
  
  hello.loadLibrary().then((_) {
   hello.printGreeting();
  });
  
  ```

   		**ë°©ë²• 2**: async 

  loadLibrary()ëŠ” [Future](https://www.dartlang.org/docs/dart-up-and-running/ch03.html#future)ë¥¼ ë¦¬í„´í•œë‹¤. 

  ```dart
  greet() async {
   await hello.loadLibrary(); // loadLibrary()ëŠ” Futureë¥¼ ë¦¬í„´í•œë‹¤. 
   hello.printGreeting();
  }
  ```

  

- library <ë¼ì´ë¸ŒëŸ¬ë¦¬ëª…ì¹­>; ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤. partëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì²¨ë¶€ëœ íŒŒì¼ì„ ì§€ì¹­í•œë‹¤. 

  ```dart
  library ballgame;  // Declare that this is a library named ballgame.
  import 'dart:html'; // This app uses the HTML library.
  part 'ball.dart';  // ballgameì˜ ì¼ë¶€ì´ë‹¤. 
  ```
  
  

## **Asynchrony support**

- async ì™€ await í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œë‹¤. 

- Dart libraryëŠ” Future Objectë¥¼ returní•˜ëŠ” function setì„ ê°€ì§€ê³  ìˆë‹¤. 

- dart ë˜ëŠ” dartanalyzerì—ì„œ async ì§€ì›ì„ ìœ„í•´ ì˜µì…˜ì„ ì£¼ì–´ì•¼ í•œë‹¤. 

```dart
dart --enable-async async_await.dart
dartanalyzer --enable-async async_await.dart
```



**async í‘ì…˜ì„ ì–¸ **

```dart
check() async {
 //...
}

look() async => //...
```

 \- await <expression> ì—ì„œ expressionì€ íƒ€ì… Futureë¥¼ ê°€ì§€ê³  ìˆê³  ì´ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ë¦¬í„´í•˜ê¸° ìœ„í•œ promiseì´ë‹¤. ë¦¬í„´ëœ ì˜¤ë¸Œì íŠ¸ê°€ ìœ íš¨í•  ë•Œê¹Œì§€ ì‹¤í–‰ì€ ë©ˆì¶˜ë‹¤. 





## **Typedefs**

- ë‹¤íŠ¸ì—ì„œ í‘ì…˜, ë¬¸ì, ìˆ«ì ëª¨ë‘ ì˜¤ë¸Œì ì´ë‹¤. 

- typedef ë˜ëŠ” function-type alias ëŠ” í•„ë“œë‚˜ ë¦¬í„´íƒ€ì…ì„ ì„ ì–¸í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í‘ì…˜íƒ€ì…ì— ì´ë¦„ì„ ì¤€ë‹¤. 

```dart
// fë¥¼ compareë¡œ í• ë‹¹í•  ë•Œ int f(Object, Object)ì˜ íƒ€ì…ì •ë³´ê°€ ì‚¬ë¼ì§„ë‹¤.
class SortedCollection {
 Function compare;
 SortedCollection(int f(Object a, Object b)) {

  compare = f;
 }
}

// typedefë¡œ í‘ì…˜íƒ€ì…ì„ ì •ì˜í•œë‹¤.
typedef int Compare(Object a, Object b);

class SortedCollection {
 Compare compare;
 SortedCollection(this.compare);

}

```





## **Metadata**

ë©”íƒ€ë°ì´í„°ëŠ” ì¶”ê°€ì ì¸ ì •ë³´ë¥¼ ì£¼ê¸°ìœ„í•´ ì‚¬ìš©í•œë‹¤. @ í‚¤ì›Œë“œë¡œ ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•œë‹¤. 

>  Ex) @deprecated, @override, @proxy 